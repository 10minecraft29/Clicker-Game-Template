<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rage Clicker Pro Max</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #0f0f0f;
        color: white;
        overflow: hidden;
        height: 100vh;
        text-align: center;
    }
    button {
        font-size: 22px;
        padding: 12px 25px;
        cursor: pointer;
        background-color: #ff4081;
        color: white;
        border: none;
        border-radius: 12px;
        position: absolute;
        transition: all 0.05s;
        box-shadow: 0 0 15px #ff4081;
    }
    #score, #streak, #highScore {
        font-size: 22px;
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        margin: 5px 0;
    }
    #score { top: 10px; }
    #streak { top: 40px; }
    #highScore { top: 70px; }
    #leaderboard {
        position: fixed;
        top: 110px;
        left: 50%;
        transform: translateX(-50%);
        text-align: left;
        background: rgba(0,0,0,0.7);
        padding: 10px;
        border-radius: 8px;
        max-width: 200px;
    }
    .particle {
        position: absolute;
        border-radius: 50%;
        pointer-events: none;
        animation: explode 0.6s forwards;
    }
    @keyframes explode {
        to {
            opacity: 0;
            transform: translate(var(--x), var(--y)) scale(0);
        }
    }
</style>
</head>
<body>
<h1 style="margin-top:160px;">Rage Clicker Pro Max</h1>
<button id="clickButton">Click me!</button>
<div id="score">Score: 0</div>
<div id="streak">Streak: 0</div>
<div id="highScore">High Score: 0</div>
<div id="leaderboard">Leaderboard:</div>

<audio id="clickSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
<audio id="bonusSound" src="https://www.soundjay.com/button/sounds/button-09.mp3"></audio>
<audio id="failSound" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>

<script>
let score = 0;
let streak = 0;
let highScore = localStorage.getItem('rageClickHigh') || 0;
let leaderboard = JSON.parse(localStorage.getItem('rageClickLeaderboard')) || [];

const button = document.getElementById('clickButton');
const scoreDisplay = document.getElementById('score');
const streakDisplay = document.getElementById('streak');
const highScoreDisplay = document.getElementById('highScore');
const leaderboardDiv = document.getElementById('leaderboard');

const clickSound = document.getElementById('clickSound');
const bonusSound = document.getElementById('bonusSound');
const failSound = document.getElementById('failSound');

const messages = [
    "Are you sure?", "Clicking again? Brave choice!", "One more click won't hurt...",
    "Think twice!", "Do it if you dare!"
];
const tauntMessages = [
    "Haha, missed me!", "Too slow!", "You'll never catch me!", 
    "Keep trying, loser!", "You call that a click?"
];
const insaneMessages = [
    "Stop clicking! Or don't...", "Why are you like this?", "I am everywhere!",
    "Clicks can't catch me!", "HAHAHA, frustration incoming!"
];

// Move button
function moveButton(speedMultiplier = 1) {
    const maxX = window.innerWidth - button.offsetWidth;
    const maxY = window.innerHeight - button.offsetHeight;
    const x = Math.floor(Math.random() * maxX);
    const y = Math.floor(Math.random() * maxY);
    button.style.left = x + "px";
    button.style.top = y + "px";
    button.style.transform = `rotate(${Math.random()*60-30}deg) scale(${0.9 + Math.random()*0.2})`;
    button.style.transition = `all ${Math.max(0.05, 0.5 - score*0.02)/speedMultiplier}s`;
}

// Create particle effect
function createParticles(x, y, color="#ff4081") {
    for(let i=0;i<15;i++){
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.width = p.style.height = Math.random()*10+5+'px';
        p.style.backgroundColor = color;
        p.style.left = x+'px';
        p.style.top = y+'px';
        p.style.setProperty('--x', (Math.random()*100-50)+'px');
        p.style.setProperty('--y', (Math.random()*100-50)+'px');
        document.body.appendChild(p);
        setTimeout(()=>p.remove(),600);
    }
}

// Update displays
function updateDisplays() {
    scoreDisplay.textContent = "Score: " + score;
    streakDisplay.textContent = "Streak: " + streak;
    highScoreDisplay.textContent = "High Score: " + highScore;
    renderLeaderboard();
}

// Render leaderboard
function renderLeaderboard() {
    let html = "Leaderboard:<br>";
    leaderboard.slice(0,5).forEach((entry, i) => html += `${i+1}. ${entry}<br>`);
    leaderboardDiv.innerHTML = html;
}

// Add score to leaderboard
function updateLeaderboard(newScore) {
    leaderboard.push(newScore);
    leaderboard.sort((a,b)=>b-a);
    leaderboard = leaderboard.slice(0,5);
    localStorage.setItem('rageClickLeaderboard', JSON.stringify(leaderboard));
}

// Random mini-event
function miniEvent() {
    const eventRoll = Math.random();
    if(eventRoll < 0.1) {
        alert("Mini Event! Slow motion button for 3 clicks!");
        button.dataset.slow = "true";
    } else if(eventRoll < 0.2) {
        alert("Mini Event! Double points for 1 click!");
        button.dataset.double = "true";
    }
}

button.addEventListener('click', () => {
    let message;
    if(score < 10) {
        message = messages[Math.floor(Math.random() * messages.length)];
    } else if(score < 20) {
        message = tauntMessages[Math.floor(Math.random() * tauntMessages.length)];
    } else {
        message = insaneMessages[Math.floor(Math.random() * insaneMessages.length)];
    }

    const rect = button.getBoundingClientRect();
    const x = rect.left + rect.width/2;
    const y = rect.top + rect.height/2;

    if(confirm(message)) {
        streak++;
        let bonus = 1;

        // Random bonus
        if(Math.random() < 0.1) {
            bonus = Math.floor(Math.random() * 5) + 2;
            bonusSound.play();
        } else {
            clickSound.play();
        }

        // Streak power-up
        if(streak % 10 === 0) {
            bonus += 5;
            bonusSound.play();
            createParticles(x,y,"#00ffea");
        }

        // Mini-event
        miniEvent();

        // Double points mini-event
        if(button.dataset.double === "true") {
            bonus *= 2;
            delete button.dataset.double;
            createParticles(x,y,"#ffff00");
        }

        score += bonus;
        createParticles(x,y);

        if(score > highScore) {
            highScore = score;
            localStorage.setItem('rageClickHigh', highScore);
        }

        // Teleport button like boss if streak high
        if(streak >= 15) moveButton(2);
        else moveButton(streak/5);

    } else {
        streak = 0;
        failSound.play();
        alert("Click canceled! Streak lost!");
        moveButton();
    }

    updateDisplays();
    updateLeaderboard(score);
});

// Initial setup
updateDisplays();
moveButton();
window.addEventListener('resize', moveButton);
</script>
</body>
</html>
